# Структура проекта

## Обзор

Проект состоит из двух основных частей:
- **Frontend**: HTML, CSS, JavaScript
- **Backend**: Python FastAPI с MySQL

## Структура директорий

```
contrainer/
├── front/                    # Frontend приложение
│   ├── index.html           # Главная страница
│   ├── diagnostics.html     # Страница первичной диагностики
│   ├── re-diagnostics.html  # Страница повторной диагностики
│   ├── training.html        # Страница с упражнениями
│   ├── results.html         # Страница результатов
│   ├── js/                  # JavaScript файлы
│   │   ├── main.js         # Основной JS
│   │   ├── diagnostics.js  # Логика диагностики
│   │   ├── re-diagnostics.js # Логика повторной диагностики
│   │   ├── training.js     # Логика упражнений
│   │   └── results.js      # Логика результатов и графиков
│   └── styles/
│       └── styles.css      # Стили приложения
│
├── back/                    # Backend приложение
│   ├── main.py             # FastAPI приложение
│   ├── data_base.py        # Инициализация БД
│   └── .env                # Конфигурация (создать вручную)
│
├── requirements.txt        # Python зависимости
├── run_server.py          # Скрипт запуска сервера
├── setup.py               # Скрипт настройки проекта
├── README.md              # Основная документация
├── QUICKSTART.md          # Быстрый старт
└── .gitignore             # Git ignore файл

```

## Описание компонентов

### Frontend

#### HTML страницы

1. **index.html** - Главная страница с описанием проекта и навигацией
2. **diagnostics.html** - Первичная диагностика с тестом Шульте
3. **re-diagnostics.html** - Повторная диагностика с отвлекающим видео
4. **training.html** - Страница с 6 упражнениями для тренировки
5. **results.html** - Страница с результатами, графиками и сравнением

#### JavaScript модули

- **main.js** - Общая логика и навигация
- **diagnostics.js** - Управление тестом Шульте, таймер, сохранение результатов
- **re-diagnostics.js** - Повторная диагностика с видео
- **training.js** - Реализация всех 6 упражнений:
  - Отвлекающие: стрелки, фланкер, струп-тест
  - Затормаживающие: Go/No-Go, переключение задач, стоп-сигнал
- **results.js** - Загрузка данных, построение графиков (Chart.js), сравнение результатов

#### Стили

- **styles.css** - Современный дизайн с градиентами, анимациями, адаптивной версткой

### Backend

#### main.py

FastAPI приложение с эндпоинтами:
- `POST /api/diagnostics` - Сохранение результатов диагностики
- `GET /api/diagnostics` - Получение всех результатов диагностики
- `POST /api/training` - Сохранение результатов тренировок
- `GET /api/training` - Получение всех результатов тренировок
- `GET /api/stats` - Общая статистика

#### data_base.py

Скрипт инициализации базы данных:
- Создание БД если не существует
- Создание таблиц `diagnostics` и `training`

## База данных

### Таблица `diagnostics`

Хранит результаты диагностики (первичной и повторной):
- `id` - Уникальный идентификатор
- `type` - Тип ('primary' или 'secondary')
- `attempts` - JSON массив с временем каждой попытки
- `average_time` - Среднее время
- `timestamp` - Дата и время прохождения
- `created_at` - Дата создания записи

### Таблица `training`

Хранит результаты тренировок:
- `id` - Уникальный идентификатор
- `exercise_type` - Тип упражнения
- `score` - Набранные очки
- `correct` - Количество правильных ответов
- `incorrect` - Количество неправильных ответов
- `accuracy` - Точность в процентах
- `avg_reaction_time` - Среднее время реакции
- `reaction_times` - JSON массив с временем реакции
- `timestamp` - Дата и время выполнения
- `created_at` - Дата создания записи

## Упражнения

### Отвлекающие упражнения

1. **Отвлекающие стимулы** - Нажимайте на стрелки, игнорируя отвлекающие элементы
2. **Фланкер** - Определяйте направление центральной стрелки
3. **Струп-тест** - Называйте цвет слова, игнорируя его значение

### Затормаживающие упражнения

4. **Go/No-Go** - Реагируйте на зелёный, не реагируйте на красный
5. **Переключение задач** - Переключайтесь между правилами в зависимости от сигнала
6. **Стоп-сигнал** - Останавливайте реакцию при появлении стоп-сигнала

## API взаимодействие

Все JavaScript файлы используют константу `API_URL = 'http://localhost:8000/api'` для обращения к backend.

При деплое на сервер необходимо обновить эту константу во всех JS файлах на адрес production сервера.

## Технологии

- **Frontend**: HTML5, CSS3, JavaScript (ES6+), Chart.js
- **Backend**: Python 3.8+, FastAPI, Uvicorn
- **Database**: MySQL 8.0+
- **Dependencies**: mysql-connector-python, pydantic, python-dotenv
